# Тестирование производительности

## Быстрая проверка оптимизации

### 1. Запустите приложение
```bash
# Соберите и запустите проект
⌘ + R
```

### 2. Импортируйте большой чат
- Откройте приложение
- Нажмите "Import Chat"
- Выберите файл с большим количеством сообщений (>10,000)

### 3. Откройте Summary
- Должен появиться loading screen с progress bar
- Наблюдайте за консольным выводом времени операций
- Общее время должно быть 2-5 секунд вместо 20-30

### 4. Ожидаемые результаты в консоли:
```
⏱️ Basic Stats took 0.01s
⏱️ Who Texted Less took 0.15s
⏱️ Longest Messages took 0.23s
⏱️ Ghosting Analysis took 1.2s
⏱️ Conversation Initiation took 0.8s
⏱️ Response Time Stats took 0.9s
⏱️ Most Active Hours took 0.3s
⏱️ Double Texting Analysis took 0.7s
⏱️ Most Used Words took 0.89s
⏱️ Emoji Analysis took 1.5s
⏱️ Total Analysis Loading took 4.2s
```

### 5. Проверьте повторный доступ
- Выйдите и снова откройте Summary
- Время должно быть еще быстрее благодаря кэшированию (~0.1-0.5s)

## Если что-то не работает

### Возможные проблемы:
1. **Компиляционные ошибки** - проверьте импорты
2. **Крашы** - проверьте тип данных в кэше
3. **Медленная работа** - возможно, нужно больше оптимизации

### Дополнительная диагностика:
```swift
// Добавьте в AnalysisCache для debugging
print("Cache hit for key: \(key)")
print("Cache miss for key: \(key)")
```

## Benchmark тест

Создайте тестовый чат с разным количеством сообщений:
- 1,000 сообщений
- 10,000 сообщений  
- 50,000 сообщений
- 100,000+ сообщений

Замерьте время загрузки для каждого размера. 